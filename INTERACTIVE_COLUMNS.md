# Interactive Column Configuration

Your HTML test reports now include **interactive column controls** that allow you to customize which columns are displayed and their order directly within the HTML report itself, without needing to regenerate the report.

## 🎯 **Features**

### ✅ **Show/Hide Columns**
- Toggle any column on or off with checkboxes
- Changes apply instantly to the table
- Visual column type indicators (📊 frequency, ⌨️ commands, etc.)

### ✅ **Drag & Drop Reordering**
- Drag column items to reorder them
- Table columns reorder automatically
- Intuitive drag handles (⋮⋮)

### ✅ **Quick Presets**
- **Minimal**: Essential columns only
- **Frequency Analysis**: Focus on frequency measurements
- **Commands**: Show all command/response data
- **Show All**: Display every available column
- **Reset**: Return to default configuration

### ✅ **Persistent Settings**
- Column preferences saved to browser localStorage
- Settings persist across page reloads and sessions
- Each user can have their own customized view

### ✅ **Smart Metadata Integration**
- Column types automatically detected and displayed
- Tooltips show column descriptions
- Proper display names for technical fields

## 🚀 **How to Use**

### **Basic Usage**

1. **Open any HTML report** generated by the system
2. **Click "📊 Configure Columns"** button near the top
3. **Use checkboxes** to show/hide columns
4. **Drag items** to reorder columns
5. **Click preset buttons** for quick configurations

![Column Controls Interface](column-controls-preview.png)

### **Available Column Types**

| Icon | Type | Description |
|------|------|-------------|
| 📝 | Text | Standard text data |
| 🔢 | Numeric | Numbers, measurements |
| 📊 | Frequency | Frequency measurements (GHz) |
| 📈 | Amplitude | Amplitude measurements (dBm) |
| ⌨️ | Command | Command strings |
| 💬 | Response | Raw response data |
| 🔍 | Parsed Response | Structured response data |
| 📷 | Screenshot | Screenshot links |

### **Preset Configurations**

#### **Minimal** (5 columns)
Perfect for quick overviews:
- Timestamp, Channel, Frequency, Enabled, Screenshot

#### **Frequency Analysis** (6 columns)
Focus on frequency measurements:
- Timestamp, Channel, Frequency, Peak Frequency, Peak Amplitude, Screenshot

#### **Commands** (Multiple columns)
Debug command interactions:
- All SOCAN and RF Matrix commands, arguments, and responses

#### **Show All**
Display every available column for comprehensive analysis

## 💾 **Settings Persistence**

Your column preferences are automatically saved to your browser's localStorage under the key `reportColumnSettings`. This means:

- ✅ Settings persist across browser sessions
- ✅ Each user can have different preferences
- ✅ Settings are specific to your browser/device
- ✅ No server-side storage required

## 🔧 **Technical Details**

### **Implementation**
- Pure client-side JavaScript (no external dependencies)
- CSS-based hiding using `.column-hidden` class
- DOM manipulation for column reordering
- localStorage for persistence

### **Browser Support**
- Modern browsers with ES6+ support
- Drag & Drop API support required for reordering
- localStorage support required for persistence

### **Performance**
- Minimal performance impact on large tables
- Efficient DOM queries using CSS selectors
- Debounced save operations

## 🆚 **Comparison: Static vs Interactive Configuration**

| Method | When to Use | Advantages |
|--------|-------------|------------|
| **Command Line Config** | Generating reports | Consistent across all reports, Scriptable, Fast bulk generation |
| **Interactive HTML Config** | Viewing/analyzing reports | Real-time changes, User-specific preferences, No regeneration needed |

### **Recommended Workflow**

1. **Generate reports** with a reasonable default configuration via command line
2. **Customize view** interactively in the browser for analysis
3. **Share reports** with others who can customize their own view
4. **Update generation config** if you find a better default

## 🎨 **Customization Examples**

### **For RF Engineers**
Focus on RF-specific measurements:
```
Visible: Timestamp, Channel, Frequency, Peak Frequency, Peak Amplitude,
         RF Matrix Commands, Screenshot
Hidden: SOCAN commands, Raw responses, Spectrum data
```

### **For Debug Sessions**
Show all command interactions:
```
Visible: Timestamp, Channel, All Commands, All Responses
Hidden: Spectrum data, Screenshots (unless needed)
```

### **For Management Reports**
Minimal, high-level view:
```
Visible: Timestamp, Channel, Frequency, Enabled, Screenshot
Hidden: All technical details, Commands, Raw data
```

## 🔍 **Advanced Tips**

1. **Hover over column items** to see descriptions
2. **Use browser dev tools** to inspect `localStorage.reportColumnSettings`
3. **Clear localStorage** to reset all settings: `localStorage.removeItem('reportColumnSettings')`
4. **Column reordering** updates the visual order; actual data order remains unchanged
5. **Type icons** help quickly identify column content type

## 🐛 **Troubleshooting**

**Columns not hiding/showing?**
- Check browser console for JavaScript errors
- Ensure modern browser with ES6 support

**Drag & drop not working?**
- Try refreshing the page
- Check if browser supports HTML5 Drag & Drop API

**Settings not persisting?**
- Verify localStorage is enabled in browser
- Check if in private/incognito mode (limited localStorage)

**Column order not updating?**
- Drag & drop should work immediately
- Try refreshing if columns seem stuck

This interactive system gives you complete control over your report viewing experience while maintaining the flexibility to generate reports with different default configurations for different use cases.